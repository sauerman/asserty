{"version":3,"sources":["webpack:///webpack/bootstrap b6a85e19373c964ddee1","webpack:///./src/index.js","webpack:///./src/util.js","webpack:///./src/types.js"],"names":["instances","createInstance","id","spec","check","type","value","result","indexOf","checkType","checkTypes","split","types","forEach","index","undefined","replace","substr","length","parseInt","typeName","trim","checkObjectType","Error","object","Object","keys","find","childType","key","get","validate","args","assert","module","exports","assign","log","method","message","console","isUndefined","item","isNull","isset","number","string","boolean"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6a85e19373c964ddee1","import {log} from './util';\nimport TYPES from './types';\n\nlet instances = {};\n\nfunction createInstance(id, spec) {\n  function check(type, value) {\n    /**\n     * check if multiple types allowed\n     */\n    let result;\n    /* branch-transpiler start */ result;\n\nif (type.indexOf('|') === -1) { result = checkType(type, value); }\n else if (true) { result = checkTypes(type.split('|'), value); }\n/* branch-transpiler end */\n    \n    return result;\n  }\n  \n  function checkTypes(types, value) {\n    let result = '';\n    \n    types.forEach((type, index) => {\n      if (result !== true) {\n        if (index > 0) {\n          result += ' and ';\n        }\n        let check = checkType(type, value);\n        \n        if (check === true) {\n          result = true\n        } else {\n          result += check;\n        }\n      }\n    });  \n    return result;\n  }\n  \n  function checkType(type, value) {\n    /**\n     * check if optional\n     */\n    if (type.indexOf('?') !== -1) {\n      if (value === null || value === undefined) {\n        return true;\n      } else {\n        type = type.replace(/\\?/g, '');\n      }\n    }\n \n    /**\n     * check for exact value\n     */\n    if (type.indexOf('===') === 0) {\n      if (type.indexOf('\"') === 3 || type.indexOf('\\'') === 3) { //is string\n        type = type.substr(4, type.length - 5);\n        if (value !== type) {\n          return 'value is not ===\"' + type + '\" but ' + value;\n        } else {\n          return true;\n        }\n      } else { //is number\n        type = type.substr(3, type.length - 3);\n        if (value !== parseInt(type, 10)) {\n          return 'value is not ===' + type + ' but ' + value;\n        } else {\n          return true;\n        }\n      }\n    }\n\n    let typeName = type.trim();\n    \n    if (spec.types[typeName]) {\n      return checkObjectType(typeName, value);\n    } else if (TYPES[typeName]) {\n      return TYPES[typeName](value);\n    }\n\n    throw new Error('Type ' + type + ' unknown');\n  }\n\n  function checkObjectType(type, object) {\n    if (typeof object !== 'object' && typeof object !== 'function') {\n      return 'expected value of type ' + type + ' got ' + object;\n    }\n\n    let result;\n    Object.keys(spec.types[type]).find(key => {\n      let childType = spec.types[type][key];\n      let value;\n\n      if (type.indexOf('*') === 0) {\n        if (typeof object.get !== 'function') {\n          result = type + ' has no getter-function.';\n          return true;\n        }\n        value = object.get(key);\n      } else {\n        value = object.key;\n      }\n\n      result = check(childType, object[key]);\n      if (result !== true) {\n        result = 'Field \"' + key + '\" --> ' + result;\n        return true;\n      }\n    });\n\n    return result;\n  }\n\n  function validate(args, ...types) {\n    let result = true;\n\n    types.find((type, index) => {\n      let result = check(type, args[index]);\n      if (result !== true) {\n        log('error', 'Argument', index, '(Value: ', args[index], ') is errorous. Message: ', result);\n        result = false;\n        return true;\n      }\n    });\n\n    return result;\n  }\n\n  function assert(args, ...types) {\n    types.forEach((type, index) => {\n      let result = check(type, args[index]);\n      if (result !== true) {\n        log('error', 'Argument', index, '(Value: ', args[index], ') is errorous. Message: ', result);\n        throw new Error('assertion failed...');\n      }\n    });\n  }\n\n  return {\n    id,\n    types: spec.types,\n    validate,\n    assert\n  };\n}\n\nmodule.exports = function(id, spec = {types:{}}) {\n  /* branch-transpiler start */ instances[id];\n\nif (instances[id] === undefined) { instances[id] = createInstance(id, spec); }\n else if (true) { instances[id] = Object.assign(instances[id].types, spec.types); }\n/* branch-transpiler end */\n  \n  return instances[id];\n};\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export function log(method = 'log', ...message) {\n  /* branch-transpiler start */ \n\nif (typeof console[method] === 'function') { console[method](...message); }\n else if (true) { console.log(...message); }\n/* branch-transpiler end */\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","function isUndefined(item) {\n  if (item === undefined) {\n    return 'value is undefined';\n  } else {\n    return false;\n  }\n}\n\nfunction isNull(item) {\n  if (item === null) {\n    return 'value is null';\n  } else {\n    return false;\n  }\n}\n\nfunction isset(item) {\n  return isUndefined(item) || isNull(item);\n}\n\nexport default {\n  number(item) {\n    return isset(item) || \n      typeof item !== 'number'\n      ? 'value is not of type number'\n      : true\n  },\n\n  string(item) {\n    return isset(item) ||\n      typeof item !== 'string'\n      ? 'value is not of type string'\n      : true\n  },\n  \n  boolean(item) {\n    return isset(item) ||\n      typeof item !== 'boolean'\n      ? 'value is not of type boolean'\n      : true\n  },\n};\n\n\n// WEBPACK FOOTER //\n// ./src/types.js"],"sourceRoot":""}